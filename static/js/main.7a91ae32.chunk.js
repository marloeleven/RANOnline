(this["webpackJsonpreact-boiler-plate"]=this["webpackJsonpreact-boiler-plate"]||[]).push([[0],{154:function(e,t,a){e.exports=a(170)},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),c=a(14),i=a.n(c),s=a(61),o=a(135),m=a(139),u=a(131),d=a.n(u),f={sheetId:"1bd_TnHwz14F-0Lq6xnCY70b7VIWudhofzv_aTUsJt2w",returnAllResults:!0},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return new Promise((function(t,a){try{d()(Object(m.a)({},f,{},e),t)}catch(n){a(n)}}))},b=a(24),E=function(e){var t,a=Object(r.useState)("loading"),n=Object(b.a)(a,2),l=n[0],c=n[1],i=Object(r.useState)(),s=Object(b.a)(i,2),o=s[0],m=s[1],u=Object(r.useState)(new Promise((function(){}))),d=Object(b.a)(u,2),f=d[0],p=d[1];return t=function(){var t=e().then((function(e){m(e),c("success")})).catch((function(e){m(e),c("error")}));p(t)},Object(r.useEffect)((function(){return t()}),[]),{read:function(){switch(l){case"loading":throw f;case"error":throw o;case"success":default:return o}}}},x=a(138),O=a(37),j=a(62),v=a(31),w=a(106),_=a(129),h=a(215),g=a(212),S=a(141),N=a(203),k=a(99),y=a(202),L=a(28),T=Object(j.b)({name:"app",initialState:{loggedIn:!1,accessToken:""},reducers:{setLoginState:function(e,t){var a=t.payload.accessToken;return Object(L.a)(e,(function(e){e.accessToken=a,e.loggedIn=!0}))}}}),C=T.actions.setLoginState,D=T.reducer,P=Object(h.a)((function(e,t){return e.pipe(Object(S.a)(C),Object(y.a)((function(){return Object(N.a)((function(){return Promise.resolve(!0)})).pipe(Object(y.a)((function(){return Object(k.a)()})))})))})),M=Object(j.b)({name:"boss",initialState:{bossList:[]},reducers:{setBossList:function(e,t){var a=t.payload;e.bossList=a}}}),A=(M.actions.setBossList,M.reducer),H=Object(h.a)(P),J=Object(v.a)(),U=(n=J,Object(O.c)({router:Object(w.b)(n),app:D,boss:A})),F=Object(g.a)(),R=Object(j.a)({middleware:[].concat(Object(x.a)(Object(j.c)()),[F,Object(_.a)(J)]),reducer:U});F.run(H);var B,I,K,G=a(133),Y=a(134),X=a(137),V=a(140),W=function(e){Object(V.a)(a,e);var t=Object(X.a)(a);function a(){var e;Object(G.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(Y.a)(a,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?l.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log(e),{hasError:!0}}}]),a}(r.Component),z=a(204),q=a(109),Q=function(){return l.a.createElement("div",{className:"absolute top-0 h-full w-full flex justify-center items-center bg-black bg-opacity-50 flex-col"},l.a.createElement(z.a,null),l.a.createElement(q.a,{variant:"button",color:"inherit",className:"pt-4"},"Loading..."))},Z=a(211),$=a(56),ee=a(213);!function(e){e.ADMIN="admin",e.USER="user"}(B||(B={})),function(e){e.SG_CAMPUS="SG Campus",e.MP_CAMPUS="MP Campus",e.PNX_CAMPUS="PNX Campus",e.SG_HOLE="SG Hole",e.MP_HOLE="MP Hole",e.PNX_HOLE="PNX Hole",e.SHIBUYA="Shibuya",e.PY="Practicing Yard"}(I||(I={})),function(e){e.NORMAL="normal",e.BE_READY="be_ready",e.ACTIVE="active"}(K||(K={}));var te,ae=new Date,ne=[{id:"cjpy",name:"Cruel Jupiter (CJ)",map:I.PY,respawn_time:"8:00",last_killed:ae},{id:"nksgh",name:"Ninja Knife (NK)",map:I.SG_HOLE,respawn_time:"2:00",last_killed:ae},{id:"dssgh",name:"Dark Swordsman (DS)",map:I.SG_HOLE,respawn_time:"2:00",last_killed:ae},{id:"nksh",name:"Ninja Knife (NK)",map:I.SHIBUYA,respawn_time:"1:15",last_killed:ae},{id:"efsgh",name:"Etherial Fist (EF)",map:I.SG_HOLE,respawn_time:"2:00",last_killed:ae},{id:"efmph",name:"Etherial Fist (EF)",map:I.MP_HOLE,respawn_time:"2:00",last_killed:ae},{id:"efpxh",name:"Etherial Fist (EF)",map:I.PNX_HOLE,respawn_time:"2:00",last_killed:ae},{id:"dsjsgh",name:"Dark Swordsman Jr (DS jr)",map:I.SG_HOLE,respawn_time:"2:00",last_killed:ae},{id:"dsjmph",name:"Dark Swordsman Jr (DS jr)",map:I.MP_HOLE,respawn_time:"2:00",last_killed:ae},{id:"dsjpx",name:"Dark Swordsman Jr (DS jr)",map:I.PNX_HOLE,respawn_time:"2:00",last_killed:ae},{id:"dsjsgc",name:"Dark Swordsman Jr (DS jr)",map:I.SG_CAMPUS,respawn_time:"2:00",last_killed:ae},{id:"dsjmpc",name:"Dark Swordsman Jr (DS jr)",map:I.MP_CAMPUS,respawn_time:"2:00",last_killed:ae},{id:"dsjpxc",name:"Dark Swordsman Jr (DS jr)",map:I.PNX_CAMPUS,respawn_time:"2:00",last_killed:ae}],re=new Date,le=function(e){return"00".concat(e).slice(-2)},ce=re,ie=("".concat(le((te=re).getHours()),":").concat(le(te.getMinutes())),function(e){var t=e.respawn_time,a=e.last_killed,n=t.split(":").map(Number),r=Object(b.a)(n,2),l=60*r[0]*60*1e3,c=60*r[1]*1e3;return new Date(a.getTime()+(l+c))}),se=function(e,t){var a,n=(a=e,JSON.parse(JSON.stringify(a))).map((function(e){return e.last_killed=new Date(e.last_killed).getTime(),e}));navigator.clipboard.writeText(JSON.stringify({serverTime:t.getTime(),bossList:n}))},oe=a(209),me=a(86),ue=a(216),de=a(208),fe=a(217),pe=a(98),be=new ue.a,Ee=be.pipe(Object(fe.a)(5e3),Object(pe.a)((function(){return new Date})));Object(de.a)(5e3).subscribe((function(){return be.next()}));var xe=function(e,t){var a=Object(r.useState)(1),n=Object(b.a)(a,2),l=n[0],c=n[1],i=Object(r.useState)(2),s=Object(b.a)(i,2),o=s[0],m=s[1],u=Object(r.useState)(K.NORMAL),d=Object(b.a)(u,2),f=d[0],p=d[1];return Object(r.useEffect)((function(){var t=ie({respawn_time:e.respawn_time,last_killed:e.last_killed}),a=Ee.subscribe((function(e){var a=t.getTime()-e.getTime();if(a>=6e4){var n=Math.floor(a/6e4);if(n>=60){var r=Math.floor(n%60),l=Math.floor(n/60);return c(l),m(r),void p(K.NORMAL)}return c(0),m(Math.floor(n)),n<3e5?void p(K.BE_READY):void 0}c(0),m(0),p(K.ACTIVE)}));return be.next(),function(){return a.unsubscribe()}}),[e.name,e.last_killed,e.respawn_time,t]),{hour:l,minute:o,status:f}},Oe=Object($.a)((function(e){return{container:{minWidth:"400px"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:130}}}));function je(e){var t=e.boss,a=Oe(),n=Object(r.useContext)(ye),c=xe(t,n.serverTime),i=c.hour,s=c.minute,o=Object(r.useCallback)((function(e){n.updateKillTime(t.id,e)}),[t.id,n]),m=Object(r.useCallback)((function(){n.updateKillTime(t.id,new Date)}),[n,t.id]);return l.a.createElement("div",{className:Object(me.b)(a.container,"selected-record flex flex-row shadow-lg py-4 px-6 rounded-md")},l.a.createElement("ul",{className:"w-full"},l.a.createElement("li",{className:"text-xl"},t.name),l.a.createElement("li",{className:"text-xs text-gray-600"},"Respawn Time: ",t.respawn_time),l.a.createElement("li",{className:"text-xs text-gray-600"},t.map),l.a.createElement("li",{className:"mt-4"},l.a.createElement(oe.a,{label:"Last Killed",mask:"__:__ _M",value:t.last_killed,onChange:o,className:a.textField}))),l.a.createElement("div",{className:"right flex flex-col ml-8"},l.a.createElement("div",{className:"timer flex flex-row text-center mb-8"},l.a.createElement("ul",{className:"pr-2"},l.a.createElement("li",{className:"text-3xl"},le(i)),l.a.createElement("li",{className:"text-xs text-gray-600"},"hour")),l.a.createElement("ul",null,l.a.createElement("li",{className:"text-3xl"},le(s)),l.a.createElement("li",{className:"text-xs text-gray-600"},"minute"))),l.a.createElement(Z.a,{variant:"contained",color:"secondary",onClick:m},"Killed")))}var ve=function(e){var t=Object(r.useContext)(ye),a=xe(e,t.serverTime),n=a.hour,c=a.minute,i=a.status;return l.a.createElement("div",{className:"selected-record flex flex-row shadow-sm py-4 px-6 rounded-md ".concat(i)},l.a.createElement("ul",{className:"mr-8  w-full"},l.a.createElement("li",{className:"text-sm"},e.name),l.a.createElement("li",{className:"text-xs text-gray-600"},e.map)),l.a.createElement("div",{className:"right flex flex-col ml-4"},l.a.createElement("div",{className:"timer flex flex-row text-center"},l.a.createElement("ul",{className:"pr-2"},l.a.createElement("li",{className:"text-xl"},le(n)),l.a.createElement("li",{className:"text-xs text-gray-600"},"hour")),l.a.createElement("ul",null,l.a.createElement("li",{className:"text-xl"},le(c)),l.a.createElement("li",{className:"text-xs text-gray-600"},"minute")))))},we=Object($.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(0),marginRight:e.spacing(0),width:300,textAlign:"center"}}})),_e={id:"default",name:"Unknown",map:I.SHIBUYA,respawn_time:"0:00",last_killed:ce};function he(e){var t=e.bossList,a=we(),n=Object(r.useState)(_e.id),c=Object(b.a)(n,2),i=c[0],s=c[1],o=Object(r.useContext)(ye),m=Object(r.useCallback)((function(){}),[]),u=Object(r.useMemo)((function(){var e=t.find((function(e){return e.id===i}));return e||_e}),[t,i]);return Object(r.useEffect)((function(){t.length&&i===_e.id&&s(t[0].id)}),[t,i]),l.a.createElement("div",{className:"flex flex-col mt-2 ml-2"},l.a.createElement(ee.a,{label:"Server Up Time",inputVariant:"outlined",value:ce,onChange:console.warn,className:a.textField}),l.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:m,className:ge},"Reset Time"),l.a.createElement("div",{className:"flex flex-row mt-8"},l.a.createElement("div",{className:"flex flex-col mr-4"},l.a.createElement("h1",{className:"text-sm text-gray-600 mb-4"},"Selected Record"),l.a.createElement(je,{boss:u}),l.a.createElement(Z.a,{variant:"contained",color:"default",onClick:function(){return o.onExport()},className:ge},"Export Data")),l.a.createElement("div",{className:"list"},l.a.createElement("h1",{className:"text-sm text-gray-600 mb-4"},"Boss Spawn List:"),l.a.createElement("ul",{className:"shadow-lg py-4 px-4"},function(e){return e.slice(0).sort((function(e,t){return ie(e).getTime()-ie(t).getTime()}))}(t).map((function(e){return l.a.createElement("li",{key:e.id,onClick:function(){return s(e.id)},className:Object(me.b)({selected:i===e.id})},l.a.createElement(ve,e))}))))))}var ge=Object(me.a)("\n  width: 150px;\n  margin-top: 10px !important;\n"),Se=a(136),Ne=a(21),ke=a(108),ye=l.a.createContext({serverTime:ce,setServerTime:ke.noop,updateKillTime:ke.noop,onExport:ke.noop}),Le=function(e){var t,a=e.fetchBossList,n=Object(r.useState)(ce),c=Object(b.a)(n,2),i=c[0],s=c[1],o=Object(r.useState)(ne),m=Object(b.a)(o,2),u=m[0],d=m[1],f=Object(r.useCallback)((function(e,t){d(Object(L.a)((function(a){var n=a.find((function(t){return t.id===e}));n&&(n.last_killed=new Date(t))})))}),[]),p=Object(r.useCallback)((function(){se(u,i)}),[u,i]),E=(t=a)&&t.read();return console.warn("read",E),Object(r.useEffect)((function(){if(Array.isArray(E)&&E.length){var e=E[0].config;console.warn("config",function(e){try{var t=JSON.parse(e);return{serverTime:new Date(t.serverTime),bossList:t.bossList((function(e){return e.last_killed=new Date(e.last_killed),e}))}}catch(a){return{serverTime:re,bossList:ne}}}(e))}}),[E]),l.a.createElement(ye.Provider,{value:{serverTime:i,setServerTime:s,updateKillTime:f,onExport:p}},l.a.createElement(Ne.a,{utils:Se.a},l.a.createElement(he,{bossList:u})))},Te=(a(168),a(169),function(){var e=E(p);return l.a.createElement(l.a.StrictMode,null,l.a.createElement(W,null,l.a.createElement(o.a,{basename:"/"},l.a.createElement(s.a,{store:R},l.a.createElement(w.a,{history:J},l.a.createElement(r.Suspense,{fallback:l.a.createElement(Q,null)},l.a.createElement(Le,{fetchBossList:e})))))))});i.a.render(l.a.createElement(Te,null),document.getElementById("root"))}},[[154,1,2]]]);
//# sourceMappingURL=main.7a91ae32.chunk.js.map